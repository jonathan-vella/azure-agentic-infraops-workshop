# Step 4b: Pre-Flight AVM Check - {project-name}

> Generated by bicep-code agent | {YYYY-MM-DD}
> Status: **{PASS|FAIL|PENDING}**

> [!NOTE]
> üìö See [documentation-styling.md](../agents/_shared/documentation-styling.md) for visual standards.

## Purpose

> [!IMPORTANT]
> This checkpoint validates AVM module schemas BEFORE Bicep code generation.

Prevents:

- Parameter type mismatches (string vs int)
- Deprecated parameter usage
- Region availability issues
- Object structure errors

## AVM Schema Validation Results

| Resource     | AVM Module Path            | Version | Status |
| ------------ | -------------------------- | ------- | ------ |
| {Resource 1} | `br/public:avm/res/{path}` | x.x.x   | ‚úÖ/‚ö†Ô∏è  |
| {Resource 2} | `br/public:avm/res/{path}` | x.x.x   | ‚úÖ/‚ö†Ô∏è  |

## Parameter Type Analysis

| Resource          | Parameter          | Expected Type | Notes                    |
| ----------------- | ------------------ | ------------- | ------------------------ |
| Log Analytics     | `dailyQuotaGb`     | `string`      | NOT int                  |
| Container App Env | Logs config        | `object`      | Use appLogsConfiguration |
| SQL Database      | `sku`              | `object`      | Not flat skuName/skuTier |
| SQL Database      | `availabilityZone` | `int`         | Use -1 for no zone       |

## Region Limitations Identified

| Resource         | Default Region | Limitation                     | Action              |
| ---------------- | -------------- | ------------------------------ | ------------------- |
| Static Web App   | swedencentral  | Not supported in swedencentral | Hardcode westeurope |
| {Other resource} | {region}       | {limitation if any}            | {action}            |

## Pitfalls Checklist

Based on [avm-pitfalls.md](../../.github/agents/_shared/avm-pitfalls.md):

- [ ] Log Analytics `dailyQuotaGb` uses string type
- [ ] Container App Environment uses `appLogsConfiguration` object
- [ ] Container App uses `scaleSettings` object (not flat params)
- [ ] SQL Server uses `sku` object + `availabilityZone: -1`
- [ ] App Service uses connection string (not deprecated instrumentation key)
- [ ] Static Web App location hardcoded to supported region

## Ready for Implementation

| Check                      | Status | Notes |
| -------------------------- | ------ | ----- |
| All AVM modules verified   | ‚úÖ/‚ùå  |       |
| Parameter types confirmed  | ‚úÖ/‚ùå  |       |
| Region limitations handled | ‚úÖ/‚ùå  |       |
| Pitfalls addressed         | ‚úÖ/‚ùå  |       |

**Overall Status**: ‚úÖ **READY** / ‚ùå **BLOCKED**

{If BLOCKED, list specific blockers and required actions}

---

_Pre-flight validation for {project-name} Bicep implementation_
